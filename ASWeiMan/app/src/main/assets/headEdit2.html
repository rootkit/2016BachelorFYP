<!DOCTYPE html>
<html>
<head>
	<meta charset="utf-8">
	<title>双人编辑</title>
	<!--script_file-->
	<script src="lib/d3.v3.min.js"></script>
	<script src="lib/zepto.min.js"></script>
	<!--绘制bubble-->
	<script src="js/dataparse.js"></script>
	<script src="js/personchange.js"></script>
	<!--数据导入-->
	<script src="data/bodyData.js"></script>
	<script src="data/faceData.js"></script>
	<script src="data/mouthData.js"></script>
	<script src="data/hairData.js"></script>
	<script src="data/eyeData.js"></script>
	<script src="data/eyebrowData.js"></script>
	<script src="data/noseData.js"></script>
	<script src="data/glassData.js"></script>
	<script src="data/hatData.js"></script>
	<script src="data/bubbleData.js"></script>
	<script src="data/clothData.js"></script>
	<script src="data/backgroundData.js"></script>
	<script src="data/hobbyData.js"></script>
	<script src="data/featureData.js"></script>
	<script src="data/expressData.js"></script>
	<script src="data/bdBubbleData.js"></script>
	<script src="data/bubbl2eData.js"></script>
	<!--css_file-->
	<link href="css/reset.css" type="text/css" rel="stylesheet" />
	<link href="css/edit.css" type="text/css" rel="stylesheet" />
	<style>
		.pathS{
			fill-rule:evenodd;
			clip-rule:evenodd;
		}
		.bubbl2eTextA,.bubbl2eTextB{
			font-family: "微软雅黑";
		}
	</style>
</head>
<body>
	<div id="contentDIV">
	</div>
<script>
var sexTag={id:0};var bodyTag={id:1};var faceTag={id:1,color:"#F4CDA7",x:0,y:0};var eyebrowTag={id:29,x:0,y:0};var glassTag={id:0,x:0,y:0};var bdBubbleTag={id:1,x:0,y:0};var hatTag={id:0,x:0,y:0};var featureTag={id:0,x:0,y:0};var backgroundTag={id:29,x:0,y:0};var clothTag={id:1,x:0,y:0};var eyeTag={id:5,x:0,y:0};var hobbyTag={id:20005,x:0,y:0};var hairTag={id:48,color:"#F29600",x:0,y:0};var mouthTag={id:12,x:0,y:0};var expressTag={id:5,x:0,y:0};var noseTag={id:0,x:0,y:0};var sexTagB={id:0};var bodyTagB={id:1};var faceTagB={id:1,color:"#F4CDA7",x:0,y:0};var eyebrowTagB={id:29,x:0,y:0};var glassTagB={id:0,x:0,y:0};var hatTagB={id:0,x:0,y:0};var featureTagB={id:0,x:0,y:0};var clothTagB={id:1,x:0,y:0};var eyeTagB={id:5,x:0,y:0};var hobbyTagB={id:5,x:0,y:0};var hairTagB={id:48,color:"#F29600",x:0,y:0};var mouthTagB={id:12,x:0,y:0};var expressTagB={id:2,x:0,y:0};var noseTagB={id:0,x:0,y:0};var svgWidth=640;var svgHeight=640;var winWidth=$(window).get(0).innerWidth;var winHeight=$(window).get(0).innerHeight;var minWidth=winWidth<winHeight?winWidth:winHeight;var svg=d3.select("#contentDIV").append("svg").attr("xmlns","http://www.w3.org/2000/svg").attr("version","1.1").attr("id","contentSVG").attr("width",svgWidth).attr("height",svgHeight).attr("viewBox","0 0 "+svgWidth+" "+svgHeight).attr("xml:space","preserve");var background2=svg.append("g").attr("id","background2");var background3=svg.append("g").attr("id","background3");var background=svg.append("g").attr("id","background");var bdBubble=svg.append("g").attr("id","bdBubble");var bubbl2e=svg.append("g").attr("id","bubble2");var bubbl2eB=svg.append("g").attr("id","bubble2B");var roleB=svg.append("g").attr("id","roleB");var roleA=svg.append("g").attr("id","roleA");var personSVG=roleA.append("g").attr("id","person");var backHairSVG=personSVG.append("g").attr("id","backHairSVG");var bodySVG=personSVG.append("g").attr("id","body");var headSVG=personSVG.append("g").attr("id","head");var hobby=roleA.append("g").attr("id","hobby");var bubble=roleA.append("g").attr("id","bubble");var haloA=roleA.append("g").attr("id","haloA");var backHair=backHairSVG.append("g").attr("id","backHair");var middleHair=headSVG.append("g").attr("id","middleHair");var face=headSVG.append("g").attr("id","face");var facial=headSVG.append("g").attr("id","facial");var eyebrow=facial.append("g").attr("id","eyebrow");var mouth=facial.append("g").attr("id","mouth");var eye=facial.append("g").attr("id","eye");var nose=facial.append("g").attr("id","nose");var express=headSVG.append("g").attr("id","express");var feature=headSVG.append("g").attr("id","feature");var frontHair=headSVG.append("g").attr("id","frontHair");var express2=headSVG.append("g").attr("id","express2");var glass=headSVG.append("g").attr("id","glass");var hat=headSVG.append("g").attr("id","hat");var body=bodySVG.append("g").attr("id","body");var cloth=bodySVG.append("g").attr("id","cloth");var personSVGB=roleB.append("g").attr("id","personB");var backHairSVGB=personSVGB.append("g").attr("id","backHairSVGB");var bodySVGB=personSVGB.append("g").attr("id","bodyB");var headSVGB=personSVGB.append("g").attr("id","headB");var hobbyB=roleB.append("g").attr("id","hobbyB");var bubbleB=roleB.append("g").attr("id","bubbleB");var haloB=roleB.append("g").attr("id","haloB");var backHairB=backHairSVGB.append("g").attr("id","backHairB");var middleHairB=headSVGB.append("g").attr("id","middleHairB");var faceB=headSVGB.append("g").attr("id","faceB");var facialB=headSVGB.append("g").attr("id","facialB");var eyebrowB=facialB.append("g").attr("id","eyebrowB");var mouthB=facialB.append("g").attr("id","mouthB");var eyeB=facialB.append("g").attr("id","eyeB");var noseB=facialB.append("g").attr("id","noseB");var expressB=headSVGB.append("g").attr("id","expressB");var featureB=headSVGB.append("g").attr("id","featureB");var frontHairB=headSVGB.append("g").attr("id","frontHairB");var express2B=headSVGB.append("g").attr("id","express2B");var glassB=headSVGB.append("g").attr("id","glassB");var hatB=headSVGB.append("g").attr("id","hatB");var bodyB=bodySVGB.append("g").attr("id","bodyB");var clothB=bodySVGB.append("g").attr("id","clothB");function initTwoPerson(personTag1,personTag2){var twoPersonTag,person1Tag,person2Tag;if(typeof personTag1=="string"){twoPersonTag=eval("("+personTag1+")");console.log(twoPersonTag);person1Tag=twoPersonTag.personTagA;person2Tag=twoPersonTag.personTagB}else{person1Tag=personTag1;person2Tag=personTag2}recordTag(person1Tag,person2Tag);personInitA();personInitB();personSelect();resizeSVG();$(window).resize(function(){d3.select("#contentSVG").attr("width",$(window).get(0).innerWidth).attr("height",$(window).get(0).innerHeight)});setTimeout(resizeSVG,30)}function personSelect(){haloChangeA(1);$("#roleA").on("tap",function(){$(".haloPartB").remove();haloChangeA(1);try{myjsobj.setPosition(0)}catch(a){sendCommand("next","left")}});$("#roleB").on("tap",function(){$(".haloPartA").remove();haloChangeB(1);try{myjsobj.setPosition(1)}catch(a){sendCommand("next","right")}});$("#background,#background2,#background3,#bdBubble").on("tap",function(){$(".haloPartA,.haloPartB").remove()})}function sendCommand(b,c){var a="iosapp:"+b+":"+c;document.location=a}function partTranslate(b,a,c){window[b].attr("transform","translate("+a+","+c+")")};
</script>	
</body>
</html>